<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="http://titania.create3000.de/fileadmin/styles.css"/>
	<link rel="stylesheet" type="text/css" href="cobweb.css"/>
	<script src="jam/require.js"></script>
	<script type="text/javascript" src="cobweb.js"></script>
	<style>
html, body {
	margin: 0px;
	padding: 0px;
	border: 0px;
	width: 920px;
	height: 440px;
}

body {
	background: #414141;
	color: white;
	padding: 10px;
}

#x3d-page {
	background: #414141;
	height: 100%;
	box-shadow: 0px 2px 12px 1px rgba(0, 0, 0, 0.75);
}

#bookmarks {
	overflow: hidden;
	padding: 5px;
	width: 110px;
	float: left;
	font-size: 12px;
}

.u {
	margin-left: 40px;
	margin-right: 20px;
	font-family: Ubuntu;
	font-weight: bold;
	font-size: 50px;
}

X3D {
	height: 100%;
}

.cobweb-fallback p {
	display: block;
	margin: 300px 0 0 0;
	text-align: center;
}
	</style>
	<script type="text/javascript">
X3D (function (dom)
{
	var Browser = X3D .getBrowser (dom);
	var scene   = Browser .currentScene;

	var index = 0;
	var pages = [ "Page 1", "Page 2", "Page 3" ];

	var urls =
	[
		[
			{ name: 'Rathaus',              url: "tests/Examples/Rathaus/stage/index.x3d" },
			{ name: 'Schacht',              url: "tests/Examples/Schacht/index.x3d" },
			{ name: 'Mediafacade',          url: "tests/Examples/Vattenfall/index.x3d" },
			{ name: 'Smashing Boxes',       url: "tests/Examples/Boxes/boxes.x3d" },
			{ name: 'Anatomy',              url: "tests/Examples/Compel/anatomy/anatomy.x3d" },
			{ name: 'Jungle',               url: "tests/Examples/Compel/jungle/jungle.x3d" },
			{ name: 'Huey',                 url: "tests/Examples/Compel/huey.x3d" },
			{ name: 'Foldup',               url: "tests/Examples/Compel/foldup.x3d" },
			{ name: 'Ripple',               url: "tests/Examples/Compel/ripple.x3d" },
			{ name: 'Terrain',              url: "tests/Examples/Terrain/index.x3d" },
			{ name: 'Gears',                url: "tests/Examples/Gears/gears.x3d" },
			{ name: 'Ghost',                url: "tests/Examples/Cathedral/stage/geist.x3d" },
			{ name: 'LayerSet',             url: "tests/Components/Layering/LayerSet.x3d" },
			{ name: 'Simple',               url: "tests/Components/Layering/Simple.x3d" },
			{ name: 'Viewport',             url: "tests/Components/Layering/Viewport.x3d" },
			{ name: 'ViewportLayer',        url: "tests/Components/Layering/ViewportLayer.x3d" },
			{ name: 'createVrmlFromString', url: "tests/Components/Scripting/createVrmlFromString.x3d" },
			{ name: 'Gravitation',          url: "tests/Components/Navigation/Gravitation.x3d" },
			{ name: 'Billboard',            url: "tests/Components/Navigation/Billboard.x3d" },
			{ name: 'VisibilitySensor',     url: "tests/Components/EnvironmentalSensor/VisibilitySensor.x3d" },
			{ name: 'Marble',               url: "tests/Examples/Marble/marble.x3d" },
		],
		[
		   { name: 'ProximitySensor',      url: "tests/Components/EnvironmentalSensor/ProximitySensor.x3d" },
			{ name: 'ImageBackground',      url: "tests/Components/EnvironmentalEffects/ImageBackground.x3d" },
			{ name: 'Geometry3D',           url: "tests/Components/Geometry3D/Geometry3D.x3d" },
			{ name: 'Smash',                url: "tests/Components/Geometry3D/Smash.x3d" },
			{ name: 'Extrude1',             url: "tests/Components/Geometry3D/Extrusion/extrude1.x3d" },
			{ name: 'NormalInterpolator',   url: "tests/Components/Interpolation/NormalInterpolator.x3d" },
			{ name: 'PositionInterpolator', url: "tests/Components/Interpolation/PositionInterpolator.x3d" },
			{ name: 'PointLight',           url: "tests/Components/Lighting/PointLight.x3d" },
			{ name: 'SpotLight',            url: "tests/Components/Lighting/SpotLight.x3d" },
			{ name: 'LocalLight',           url: "tests/Components/Lighting/LocalLight.x3d" },
			{ name: 'Lamp',                 url: "tests/Components/PointingDeviceSensor/lamp.x3d" },
			{ name: 'LineSensor',           url: "tests/Components/PointingDeviceSensor/LineSensor.x3d" },
			{ name: 'PlaneSensor',          url: "tests/Components/PointingDeviceSensor/PlaneSensor.x3d" },
			{ name: 'SphereSensor',         url: "tests/Components/PointingDeviceSensor/SphereSensor.x3d" },
			{ name: 'Touch',                url: "tests/Components/PointingDeviceSensor/test.x3d" },
			{ name: 'IndexedLineSet',       url: "tests/Components/Rendering/IndexedLineSet.x3d" },
			{ name: 'Glowing World',        url: "tests/Components/Rendering/world.x3d" },
			{ name: 'Scripting',            url: "tests/Components/Scripting/ColorSpheres.x3d" },
			{ name: 'Connectors',           url: "tests/Components/Shape/Connectors.x3d" },
			{ name: 'Sound',                url: "tests/Components/Sound/AudioClip.x3d" },
			{ name: 'Text',                 url: "tests/Components/Text/test.x3d" },
			{ name: 'Date',                 url: "tests/Components/Text/date.x3d" },
			{ name: 'Text',                 url: "tests/Components/Text/Text.x3d" },
		],
		[
			{ name: 'ColorMaterial',        url: "tests/Components/Texturing/ColorMaterial.x3d" },
			{ name: 'MovieTexture',         url: "tests/Components/Texturing/MovieTexture.x3d" },
			{ name: 'NestedProtos',         url: "tests/Components/PROTO/NestedProtos.x3d" },
			{ name: 'Gate',                 url: "tests/Examples/Approach/stage/gate.x3d" },
			{ name: 'Appartment',           url: "tests/Examples/Appartment/index.x3d" },
			{ name: 'Approach',             url: "tests/Examples/Approach/stage/index.x3d" },
			{ name: 'Arcadia',              url: "tests/Examples/Arcadia/stage/index.x3d" },
			{ name: 'Astronomy',            url: "tests/Examples/Astronomy/stage/astrnmy.x3d" },
			{ name: 'BIC Man',              url: "tests/Examples/BIC/index.x3d" },
			{ name: 'BIC Building',         url: "tests/Examples/BIC/building.x3d" },
			{ name: 'BIC Buero',            url: "tests/Examples/BIC/buero.x3d" },
			{ name: 'BIC Info',             url: "tests/Examples/BIC/info.x3d" },
			{ name: 'Cathedral',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Cathedral/stage/index.x3d" },
			{ name: 'Dolphin',              url: "tests/Examples/Dolphin/index.x3d" },
			{ name: 'Hamburger',            url: "tests/Examples/ICTS/hamburger.x3d" },
			{ name: 'ICTS',                 url: "tests/Examples/ICTS/index.x3d" },
			{ name: 'Labyrinth',            url: "tests/Examples/ICTS/labyrinth.x3d" },
			{ name: 'Soccer',               url: "tests/Examples/ICTS/soccer.x3d" },
			{ name: 'LogoPieces',           url: "tests/Examples/LogoPieces/index.x3d" },
			{ name: 'LustForLife',          url: "tests/Examples/LustForLife/stage/index.x3d" },
			{ name: 'MovieTruck',           url: "tests/Examples/MovieTruck/stage/index.x3d" },
			{ name: 'NIST-Logo',            url: "tests/Examples/NIST-Logo/index.x3d" },
			{ name: 'Pong',                 url: "tests/Examples/Pong/index.x3d" },
		],
	];

	function toggleBookmarks ()
	{
		var bookmarks = $("#bookmarks");

		bookmarks .empty ();

		urls [index] .forEach (function (item)
		{
			$("<a/>")
				.attr ("href", "#")
				.click (function ()
				{
					Browser .loadURL (new X3D .MFString (item .url), new X3D .MFString ());
				})
				.text (item .name)
				.appendTo (bookmarks);

			bookmarks .append ("<br/>");
		});
			
		bookmarks .append ("<br/>");


		$("<a/>")
			.attr ("href", "#")
			.click (randomWorld)
			.text ("Random World")
			.appendTo (bookmarks);

		bookmarks .append ("<br/>");
		bookmarks .append ("<br/>");

		index = (index + 1) % urls .length;

		$("<a/>")
			.attr ("href", "#")
			.click (toggleBookmarks)
			.text (pages [index])
			.appendTo (bookmarks);
		
	}

	function randomWorld ()
	{
		function random (max)
		{
		   return Math .round (Math .random () * max);
		}

		var
			randomPage  = random (urls .length - 1),
			randomIndex = random (urls [randomPage] .length - 1);

		Browser .loadURL (new X3D .MFString (urls [randomPage] [randomIndex] .url), new X3D .MFString ());
	}

	toggleBookmarks ();

	$(".u") .text (Browser .name + " V" + Browser .version);
},
function (elements, error)
{
	console .error ("Please forgive me, your browser may not support all features required by Cobweb!");
	console .error (error);
});
	</script>
</head>
<body>
	<div id="x3d-page">
		<div id="bookmarks"></div>
		<X3D cache="false" url='
		   "tests/Components/Geometry3D/Geometry3D.x3d"
		   "tests/Examples/Marble/marble.x3d",
			"tests/Examples/Boxes/boxes.x3d",
		'>
			<p>Sorry,<br>
				it wasn't me!<br>
				<br>
				Your browser may not support all features required by Cobweb!<br>
				You can use Firefox, because this is currently the choice of the choice.
			</p>
		</X3D>
		<p class="u"></p>
	</div>
</body>
</html>
