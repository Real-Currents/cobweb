<!DOCTYPE html>
<html manifest="manifest.appcache">
	<head>
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
		<meta http-equiv="Pragma" content="no-cache"/>
		<meta http-equiv="Expires" content="0"/>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="http://titania.create3000.de/fileadmin/styles.css"/>
		<link rel="stylesheet" type="text/css" href="https://rawgit.com/create3000/cobweb/master/stable/1/1.7/cobweb.css"/>
		<script type="text/javascript" src="https://rawgit.com/create3000/cobweb/master/stable/1/1.7/cobweb.min.js"></script>
		<style>
html, body {
	margin: 0px;
	padding: 0px;
	border: 0px;
	width: 100%;
	height: 100%;
}

body {
	background: #414141;
	color: white;
}

x3d {
	height: 100%;
}

#bookmarks {
	overflow: hidden;
	padding: 5px;
	width: 110px;
	float: left;
	font-size: 12px;
	text-align: right;
}
		</style>
	<script type="text/javascript">
X3D (function (dom)
{
	var Browser = X3D .getBrowser (dom);
	var scene   = Browser .currentScene;			

	var index = 0;
	var pages = [ "Page 1", "Page 2" ];

	var urls =
	[
		[
			{ name: 'Smashing Boxes',     url: "https://rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Boxes/boxes.x3d" },
			{ name: 'Soccer',             url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/ICTS/soccer.x3d" },
			{ name: 'LogoPieces',         url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/LogoPieces/index.x3d" },
			{ name: 'Astronomy',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Astronomy/stage/astrnmy.x3d" },
			{ name: 'Foldup',             url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Compel/foldup.x3d" },
			{ name: 'Pong',               url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Pong/index.x3d" },
			{ name: 'Mediafacade',        url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Vattenfall/index.x3d" },
			{ name: 'LustForLife',        url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/LustForLife/stage/index.x3d" },
			{ name: 'Cathedral',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Cathedral/stage/index.x3d" },
			{ name: 'Arcadia',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Arcadia/stage/index.x3d" },
			{ name: 'Huey',               url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Compel/huey.x3d" },
			{ name: 'Approach',           url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Approach/stage/index.x3d" },
			{ name: 'Labyrinth',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/ICTS/labyrinth.x3d" },
			{ name: 'Terrain',            url: "https://rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Terrain/index.x3d" },
			{ name: 'Gears',              url: "https://rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Gears/gears.x3d" },
		],
		[
			{ name: 'Jungle',             url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Compel/jungle/jungle.x3d" },
			{ name: 'Ripple',             url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Compel/ripple.x3d" },
			{ name: 'BIC Man',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/BIC/index.x3d" },
			{ name: 'BIC Building',       url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/BIC/building.x3d" },
			{ name: 'BIC Buero',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/BIC/buero.x3d" },
			{ name: 'BIC Info',           url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/BIC/info.x3d" },
			{ name: 'Dolphin',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Dolphin/index.x3d" },
			//{ name: 'Hamburger',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/ICTS/hamburger.x3d" },
			{ name: 'ICTS',               url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/ICTS/index.x3d" },
			{ name: 'MovieTruck',         url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/MovieTruck/stage/index.x3d" },
			{ name: 'NIST-Logo',          url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/NIST-Logo/index.x3d" },
			{ name: 'Rathaus',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Rathaus/stage/index.x3d" },
			{ name: 'Schacht',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Schacht/index.x3d" },
			{ name: 'Anatomy',            url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Compel/anatomy/anatomy.x3d" },
			{ name: 'Appartment',         url: "https://cdn.rawgit.com/create3000/cobweb/master/cobweb.js/tests/Examples/Appartment/index.x3d" },
		],
	];

	function toggleBookmarks ()
	{
		var bookmarks = $("#bookmarks");

		bookmarks .empty ();

		urls [index] .forEach (function (item)
		{
			$("<a/>")
				.attr ("href", "#")
				.click (function ()
				{
					Browser .loadURL (new X3D .MFString (item .url), new X3D .MFString ());
				})
				.text (item .name)
				.appendTo (bookmarks);

			bookmarks .append ("<br/>");
		});
			
		bookmarks .append ("<br/>");


		$("<a/>")
			.attr ("href", "#")
			.click (randomWorld)
			.text ("Random World")
			.appendTo (bookmarks);

		bookmarks .append ("<br/>");
		bookmarks .append ("<br/>");

		index = (index + 1) % urls .length;

		$("<a/>")
			.attr ("href", "#")
			.click (toggleBookmarks)
			.text (pages [index])
			.appendTo (bookmarks);
		
	}

	function randomWorld ()
	{
		function random (max)
		{
		   return Math .round (Math .random () * max);
		}

		var
			randomPage  = random (urls .length - 1),
			randomIndex = random (urls [index] .length - 1),
			i           = 0;
			
		urls [randomPage] .forEach (function (item)
		{
		   if (i == randomIndex)
				Browser .loadURL (new X3D .MFString (item .url), new X3D .MFString ());

		   ++ i;
		});
	}

	randomWorld ();
	toggleBookmarks ();
});
	</script>
</head>
<body>
	<div id="bookmarks"></div>
	<X3D></X3D>
</body>
</html>
